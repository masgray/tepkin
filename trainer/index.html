<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>Тренажёр по теме Электростатика</title>
    <style>
        .q {
            color: #000;
            font-size: xx-large;
        }

        .btn {
            border: 2px solid;
            color: #000;
            background-color: #D1D1D1;
            padding: 14px 28px;
            font-size: xx-large;
            cursor: pointer;
        }

        .btn101 {
            border: none;
            color: #FFF;
            background-color: #FFF;
            font-size: xx-large;
        }
    </style>
</head>
<body>
<p id="zadacha" class="q">Задача 1</p>
<button id="btn1" class="btn">Ответ 1.1</button>
<button id="btn2" class="btn">Ответ 1.2</button>
<button id="btn3" class="btn">Ответ 1.3</button>
<button id="btn4" class="btn">Ответ 1.4</button>
<p id="otvet" class="q"></p>
<button id="btn10" class="btn101">Далее</button>
<p id="itog" class="q" style="text-align: center"></p>
<script>
    var text = ["Задача 1", "Задача 2", "Задача 3", "Задача 4"];
    var answer1 = ["Ответ 1.1", "Ответ 2.1", "Ответ 3.1", "Ответ 4.1"];
    var answer2 = ["Ответ 1.2", "Ответ 2.2", "Ответ 3.2", "Ответ 4.2"];
    var answer3 = ["Ответ 1.3", "Ответ 2.3", "Ответ 3.3", "Ответ 4.3"];
    var answer4 = ["Ответ 1.4", "Ответ 2.4", "Ответ 3.4", "Ответ 4.4"];
    var TrueAnswer = ["Ответ 1.3", "Ответ 2.1", "Ответ 3.2", "Ответ 4.4"];
    var podskazka = ["Подсказка 1", "Подсказка 2", "Подсказка 3", "Подсказка 4"];
    var podskazkaItog = [];
    var i;
    var x = 0;
    var k = text.length;
    var zn = 0;
    var zmax = text.length;
    var zagalovok = document.getElementById("zadacha");
    var button1 = document.getElementById('btn1');
    var button2 = document.getElementById('btn2');
    var button3 = document.getElementById('btn3');
    var button4 = document.getElementById('btn4');
    var text2 = document.getElementById("otvet");
    var dalee = document.getElementById("btn10");
    var text3 = document.getElementById("itog");
    i = Math.floor(Math.random() * k);
    zagalovok.textContent = text[i];
    button1.textContent = answer1[i];
    button2.textContent = answer2[i];
    button3.textContent = answer3[i];
    button4.textContent = answer4[i];
    button1.addEventListener('click', event => {
        if (answer1[i] === TrueAnswer[i] && x === 0) {
            button1.style.backgroundColor = '#0F0';
            text2.textContent = "Верно!";
            x = 1;
            zn = zn + 1;
        } else if (answer1[i] !== TrueAnswer[i] && x === 0) {
            button1.style.backgroundColor = '#F00';
            text2.textContent = podskazka[i];
            x = 1;
            podskazkaItog.push(podskazka[i]);
        }
        dalee.className = 'btn';
        dalee.textContent = "Далее";
    });
    button2.addEventListener('click', event => {
        if (answer2[i] === TrueAnswer[i] && x === 0) {
            button2.style.backgroundColor = '#0F0';
            text2.textContent = "Верно!";
            x = 1;
            zn = zn + 1;
        } else if (answer2[i] !== TrueAnswer[i] && x === 0) {
            button2.style.backgroundColor = '#F00';
            text2.textContent = podskazka[i];
            x = 1;
            podskazkaItog.push(podskazka[i]);
        }
        dalee.className = 'btn';
        dalee.textContent = "Далее";
    });
    button3.addEventListener('click', event => {
        if (answer3[i] === TrueAnswer[i] && x === 0) {
            button3.style.backgroundColor = '#0F0';
            text2.textContent = "Верно!";
            x = 1;
            zn = zn + 1;
        } else if (answer3[i] !== TrueAnswer[i] && x === 0) {
            button3.style.backgroundColor = '#F00';
            text2.textContent = podskazka[i];
            x = 1;
            podskazkaItog.push(podskazka[i]);
        }
        dalee.className = 'btn';
        dalee.textContent = "Далее";
    });
    button4.addEventListener('click', event => {
        if (answer4[i] === TrueAnswer[i] && x === 0) {
            button4.style.backgroundColor = '#0F0';
            text2.textContent = "Верно!";
            x = 1;
            zn = zn + 1;
        } else if (answer4[i] !== TrueAnswer[i] && x === 0) {
            button4.style.backgroundColor = '#F00';
            text2.textContent = podskazka[i];
            x = 1;
            podskazkaItog.push(podskazka[i]);
        }
        dalee.className = 'btn';
        dalee.textContent = "Далее";
    });
    dalee.addEventListener('click', event => {
        if (x === 1 && k !== 1) {
            k = k - 1;
            text.splice(i, 1);
            answer1.splice(i, 1);
            answer2.splice(i, 1);
            answer3.splice(i, 1);
            answer4.splice(i, 1);
            TrueAnswer.splice(i, 1);
            podskazka.splice(i, 1);
            button1.style.backgroundColor = '#D1D1D1';
            button2.style.backgroundColor = '#D1D1D1';
            button3.style.backgroundColor = '#D1D1D1';
            button4.style.backgroundColor = '#D1D1D1';
            i = Math.floor(Math.random() * k);
            x = 0;
            zagalovok.textContent = text[i];
            button1.textContent = answer1[i];
            button2.textContent = answer2[i];
            button3.textContent = answer3[i];
            button4.textContent = answer4[i];
            dalee.className = 'btn101';
            dalee.textContent = "";
            text2.textContent = "";
        } else if (x === 1 && k === 1) {
            button1.style.display = "none";
            button2.style.display = "none";
            button3.style.display = "none";
            button4.style.display = "none";
            dalee.style.display = "none";
            text2.style.display = "none";
            zagalovok.style.display = "none";
            let s = "Верно " + zn + " из " + zmax + "<br>";
            if (zn !== 4) {
                s += "Повтори: <br>"
            } else {
                s += "Молодец!"
            }
            for (let t = 0; t < podskazkaItog.length; t++) {
                s = s + podskazkaItog[t] + "<br>";
            }
            text3.innerHTML = s;
        }
    });
</script>

</body>
</html>